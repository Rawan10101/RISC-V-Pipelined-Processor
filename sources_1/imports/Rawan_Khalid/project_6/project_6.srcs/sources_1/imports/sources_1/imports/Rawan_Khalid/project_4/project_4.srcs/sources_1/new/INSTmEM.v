`timescale 1ns / 1ps
/*******************************************************************
*
* Project: RISC V Single Cycle Datapath
* Author1: Rawan Muhammad
* Author2: Salma El-Hawary 
* Author1-Email: Rawan_Khalid@aucegypt.edu
* Author2-Email: salma_el-hawary@aucegypt.edu
**********************************************************************/
module INSTmEM(
    input  [5:0]  addr,
    output [31:0] data_out
);
    reg [31:0] mem [0:63];

    genvar i;
    generate
        for (i = 0; i < 64; i = i + 1) begin : mem_init
            initial mem[i] = 32'b0; // default all memory to 0
        end
    endgenerate

  initial begin
//mem[0]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0

//mem[1]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[2]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[3] = 32'b000000000001_00000_000_00001_0010011; // ADDI x1, x0, 1

////mem[3] = 32'b111111111111_00000_000_00001_0010011; // ADDI x1, x0, -1
//mem[4] = 32'b111111111111_00000_000_00010_0010011; // ADDI x2, x0, -1
//mem[5] = 32'b0_000000_00001_00010_111_1010_0_1100011; // bgeu x1,x2, 20 TAKEN
//mem[6]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[7]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[8]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0

//// BEQ taken: x1 == x2 ? branch taken, skip next instruction
//mem[9] = 32'hAAAA_AAAA; // skipped
//mem[10] = 32'b000000000011_00000_000_00011_0010011; // ADDI x3,x0,3 ? executed 
//// BEQ not taken: x1 != x3
//mem[11] = 32'b0000000_00001_00011_000_01000_1100011; // BEQ x1,x3,+8 notaken
//mem[12] = 32'b000000000100_00000_000_00100_0010011; // ADDI x4,x0,4 ? executed
/////////////////////////////////////////////////////////////////////////////////////////
//// Test initialization - Load immediate values into registers
mem[0]  = 32'h00A00093;  // ADDI x1, x0, 10      (x1 = 10)
mem[1]  = 32'h01400113;  // ADDI x2, x0, 20      (x2 = 20)
mem[2]  = 32'h00500193;  // ADDI x3, x0, 5       (x3 = 5)
mem[3]  = 32'hFFF00213;  // ADDI x4, x0, -1      (x4 = -1, all 1s)

//------------------------------------------------------------------------------
// R-TYPE INSTRUCTIONS (10 instructions)
//------------------------------------------------------------------------------
mem[4]  = 32'h002082B3;  // ADD  x5, x1, x2      (x5 = 10 + 20 = 30)
mem[5]  = 32'h40208333;  // SUB  x6, x1, x2      (x6 = 10 - 20 = -10)
//mem[2]  = 32'h002173B3;  // AND  x7, x2, x2      (x7 = 20 & 20 = 20)
//mem[3]  = 32'h00116433;  // OR   x8, x2, x1      (x8 = 20 | 10 = 30)
//mem[4]  = 32'h002144B3;  // XOR  x9, x2, x2      (x9 = 20 ^ 20 = 0)
//mem[5]  = 32'h00319533;  // SLL  x10, x3, x3     (x10 = 5 << 5 = 160)

////mem[9]  = 32'h00028233;  // add  x10, x0, x10    (x10 = 5 << 5 = 160)
//mem[10] = 32'h0031D5B3;  // SRL  x11, x3, x3     (x11 = 5 >> 5 = 0)
//mem[11] = 32'h4031D633;  // SRA  x12, x3, x3     (x12 = 5 >>> 5 = 0)
//mem[12] = 32'h002126B3;  // SLT  x13, x2, x2     (x13 = (20 < 20) = 0)
//mem[13] = 32'h00213733;  // SLTU x14, x2, x2     (x14 = (20 < 20) = 0)

////------------------------------------------------------------------------------
//// I-TYPE ARITHMETIC INSTRUCTIONS (9 instructions)
////------------------------------------------------------------------------------
//mem[14] = 32'h06410793;  // ADDI  x15, x2, 100   (x15 = 20 + 100 = 120)
//mem[15] = 32'h0FF27813;  // ANDI  x16, x4, 0xFF  (x16 = 0xFF)
//mem[16] = 32'h00F0E893;  // ORI   x17, x1, 15    (x17 = 10 | 15 = 15)
//mem[17] = 32'h0FF14913;  // XORI  x18, x2, 0xFF  (x18 = 20 ^ 0xFF)     235        
//mem[18] = 32'h00311993;  // SLLI  x19, x2, 3     (x19 = 20 << 3 = 160)
//mem[19] = 32'h00315A13;  // SRLI  x20, x2, 3     (x20 = 20 >> 3 = 2)
//mem[20] = 32'h40315A93;  // SRAI  x21, x2, 3     (x21 = 20 >>> 3 = 2)
//mem[21] = 32'h06412B13;  // SLTI  x22, x2, 100   (x22 = (20 < 100) = 1)
//mem[22] = 32'h06413B93;  // SLTIU x23, x2, 100   (x23 = (20 < 100) = 1)

////------------------------------------------------------------------------------
//// LOAD UPPER IMMEDIATE & PC-RELATIVE (2 instructions)
////------------------------------------------------------------------------------
//mem[23] = 32'h12345C37;  // LUI   x24, 0x12345   (x24 = 0x12345000)
//mem[24] = 32'hABCDEC97;  // AUIPC x25, 0xABCDE    (x25 = PC + 0xABCDE000)

////------------------------------------------------------------------------------
//// STORE INSTRUCTIONS (3 instructions)
////------------------------------------------------------------------------------
//mem[25] = 32'h00102023;  // SW  x1, 0(x0)        Store x1 to mem[0]
//mem[26] = 32'h00209223;  // SH  x2, 4(x1)        Store halfword x2
//mem[27] = 32'h00310423;  // SB  x3, 8(x2)        Store byte x3

////------------------------------------------------------------------------------
//// LOAD INSTRUCTIONS (5 instructions)
////------------------------------------------------------------------------------
//mem[28] = 32'h00002D03;  // LW  x26, 0(x0)       Load word from mem[0]
//mem[29] = 32'h00411D83;  // LH  x27, 4(x2)       Load halfword (signed)
//mem[30] = 32'h00010E03;  // LB  x28, 0(x2)       Load byte (signed)
//mem[31] = 32'h00014E83;  // LBU x29, 0(x2)       Load byte (unsigned)
//mem[32] = 32'h00015F03;  // LHU x30, 0(x2)       Load halfword (unsigned)


/////////////////////////////////////////////////////////////////////////////////////////////

//mem[0]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0

//mem[1] = 32'b000000000001_00000_000_00001_0010011; // ADDI x1, x0, 0
//mem[2] = 32'b000000000010_00000_000_00010_0010011; // ADDI x2, x0, 0
//mem[3] = 32'b000000010000_00000_000_00011_0010011; // ADDI x3, x0, 0


//mem[4] = 32'b0_00000001010_0_00000000_00101_1101111; // JAL x5, 20//10000 pc+16-> 3 inst
////mem[11] = 32'b0_0000000000_0_00000000_01001_1101111; // JAL x9, 0

//mem[5]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[6]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[7]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[8]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0

//mem[9] = 32'b000000000011_00000_000_00011_0010011; // ADDI x3,x0,3 ? executed 
///////////////////////////////////////////////////////////////////
//mem[8] = 32'b1_1111111000_1_11111111_00111_1101111; // JAL x7, -16
//mem[9] = 32'h44444444; // SKIPPED if branch taken
//mem[10]= 32'b000000000000_00000_000_01000_0010011; // ADDI x8, x0, 0 ? executed after jump

//mem[11] = 32'b0_0000000000_0_00000000_01001_1101111; // JAL x9, 0
//mem[12] = 32'b000000000001_00000_000_01010_0010011; // ADDI x10, x0, 1 ? executed

//mem[11] = 32'b0_0000000000_0_00000000_01011_1101111; // JAL x11, 1 ? aligns to 0
//mem[12] = 32'b000000000010_00000_000_01100_0010011; // ADDI x12, x0, 2 ? executed



//mem[0]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[1]=32'b000000000000_00000_010_00001_0000011 ; //lw x1, 0(x0) ->17
////mem[2]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0

//mem[2]=32'b000000000100_00000_010_00010_0000011 ; //lw x2, 4(x0) ->9
////mem[3]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[29]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[30]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[3]=32'b0000000_00001_00010_111_00111_0110011 ; //and x7, x2, x1
////added to be skipped since PC starts with 4 after reset
////mem[4]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[5]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[4]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[4]=32'b000000000100_00000_010_00010_0000011 ; //lw x2, 4(x0) ->9
////mem[6]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[7]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[8]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[5]=32'b000000001000_00000_010_00011_0000011 ; //lw x3, 8(x0) ->25
////mem[4]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[5]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[12]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[6]=32'b0000000_00010_00001_110_00100_0110011 ; //or x4, x1, x2 ->25

//mem[7]=32'b0_000000_00011_00100_000_1010_0_1100011; //beq x4, x3, 12
//mem[8]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[9]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[10]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[11]=32'b0000000_00010_00001_000_00011_0110011 ; //add x3, x1, x2 ->26





////mem[22]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[23]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[24]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//mem[19]=32'b0000000_00010_00011_000_00101_0110011 ; //add x5, x3, x2 -TAKEN 25+9=34
////mem[26]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[27]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[28]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[23]=32'b0000000_00101_00000_010_01100_0100011; //sw x5, 12(x0)
////mem[24]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[25]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[26]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[27]=32'b000000001100_00000_010_00110_0000011 ; //lw x6, 12(x0)
////mem[28]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[29]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[30]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[31]=32'b0000000_00001_00110_111_00111_0110011 ; //and x7, x6, x1
//////mem[38]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//////mem[39]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//////mem[40]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[32]=32'b0100000_00010_00001_000_01000_0110011 ; //sub x8, x1, x2
//////mem[42]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//////mem[43]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//////mem[44]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[33]=32'b0000000_00010_00001_000_00000_0110011 ; //add x0, x1, x2
//////mem[46]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//////mem[47]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
//////mem[48]=32'b0000000_00000_00000_000_00000_0110011 ; //add x0, x0, x0
////mem[34]=32'b0000000_00001_00000_000_01001_0110011 ; //add x9, x0, x1
end

    assign data_out = mem[addr];
endmodule
